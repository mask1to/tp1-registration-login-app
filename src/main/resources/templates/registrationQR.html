<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="includes/header :: header"/>
<body>

<div th:replace="includes/navbar :: navbar"/>

<section class="pt-4">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-md-offset-3">
                <div class="alert alert-danger" role="alert" th:text="${error}" th:if="${error}"></div>
                <div id="qr">
                    <p>Scan this Barcode using Google Authenticator app on your phone to use it later in login
                        <a href="https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2">Android</a>
                        and
                        <a href="https://itunes.apple.com/us/app/google-authenticator/id388497605">iPhone</a>
                    </p>
                    <br/>
                    <img th:src="${qr}">
                </div>
                <form th:action="@{/registrationQR}" method="post" th:object="${user}">
                    <div class="form-group">
                        <input id="email" type="hidden" th:name="email" class="form-control" th:value="${mail}"/>
                        <label class="control-label" for="secret_code"> Code from Google Authenticator: </label>
                        <input id="secret_code" class="form-control" th:field="*{secret_code}"
                               required autofocus="autofocus"/>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-success">Finish registration</button>
                    </div>
                </form>

            </div>
        </div>
    </div>
</section>


</body>
</html>